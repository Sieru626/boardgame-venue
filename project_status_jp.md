# ボドゲテスト会場 (BoardGame Venue) - 現在の開発状況

## 📍 現在のフェーズ
**Phase 2: 実践テスト検証 (完了)**
基礎エンジン(`Phase 1.8`)の上に、検証用タイトル「**ディストピア家族会議**」(#FreeTalkモード)を実装・統合しました。
これにより、以下の機能サイクルが完成しました：
1. **テンプレート適用**: 既存のルールセット(Dystopia)を読み込んで開始。
2. **会話型ゲームプレイ**: シーン/条例の提示、自由会話、密告アクション、ホスト裁定。
3. **動的調整**: ゲームプレイ中にデッキ編集機能でカードを追加・変更し、即座にリマッチ。

## 🛠 技術スタック
- **Frontend**: Next.js (App Router), TailwindCSS
- **Backend**: Node.js (Express), Socket.io
- **Database**: SQLite (Prisma)
- **AI**: Gemini API (`@google/genai`) ※ルール生成・デッキ生成に使用

## ✅ 実装済み機能
### 1. ゲームエンジン・コア
- **ルーム機能**: 作成・参加・復帰 (リカバリー実装済み)
- **Socket通信**: リアルタイムな状態同期 (手札、テーブル、チャット)
- **汎用モード基盤**:
    - `turn_based`: 一般的な手番制カードゲーム
    - `oldmaid`: ババ抜きロジック
    - `memory`: 神経衰弱ロジック
    - **`free_talk` (New!)**: 会話劇、TRPG風ゲーム（シーン提示、密告、GM裁定機能）
- **高速開発サイクル (Dev Cycle)**:
    - **Live Deck Editor**: ゲーム後のデッキドラフト編集。
    - **Instant Rematch**: 編集内容を適用して即座に再開。

### 2. UI / UX
- **日本語化**: 全画面の日本語化完了。
- **観戦モード**: ホスト操作および自己申告での「観戦者」切り替え。
- **ゲームライブラリ**: テンプレートからのゲーム作成・保存。
- **Dystopia UI (New!)**:
    - シーン/条例カードの常時提示ヘッダー。
    - 密告ボタン（対象・理由入力）。
    - 勲章(スコア)トラッキングと勝利判定。

## 🚧 次に取り組むこと (Phase 3)
### バランス調整とプレイフィール改善
- [ ] 実際のテストプレイを通じたカードテキストの洗練。
- [ ] UIアニメーション強化 (カード配布、勲章獲得時の演出)。
- [x] タイマー機能の修正 (クライアント再描画間隔の調整)。
- [x] サーバー接続・ポート設定の復旧。
